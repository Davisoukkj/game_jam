[gd_scene load_steps=10 format=3 uid="uid://ct53ijyo7w2sw"]

[ext_resource type="PackedScene" uid="uid://d1kbot3hajerj" path="res://Scenes/character.tscn" id="1_4ng1g"]
[ext_resource type="Script" path="res://Scripts/Enemy.gd" id="2_7swg5"]
[ext_resource type="Script" path="res://Scripts/CharacterBody3D2.gd" id="3_bj72c"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_l1xrc"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_fadan"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_7ikgd"]
radius = 0.131
height = 0.652

[sub_resource type="BoxShape3D" id="BoxShape3D_tch8i"]

[sub_resource type="BoxMesh" id="BoxMesh_xfw5y"]

[sub_resource type="NavigationMesh" id="NavigationMesh_vttbh"]
vertices = PackedVector3Array(-5.98202, 0.144332, -4.89462, -4.48202, 0.144332, -4.89462, -4.73202, 0.144332, -13.1446, -15.232, 0.144332, -3.64462, -6.23202, 0.144332, -3.64462, -5.98202, 0.144332, -4.89462, -4.73202, 0.144332, -13.1446, -15.232, 0.144332, -13.1446, -4.48202, 0.144332, -4.89462, 3.76798, 0.144332, -4.89462, 4.01798, 0.144332, -13.1446, -4.73202, 0.144332, -13.1446, 4.01798, 0.144332, -13.1446, 3.76798, 0.144332, -4.89462, 5.26798, 0.144332, -4.89462, 5.26798, 0.144332, -4.89462, 5.51798, 0.144332, -3.64462, 13.768, 0.144332, -3.64462, 13.768, 0.144332, -13.1446, 4.01798, 0.144332, -13.1446, -6.23202, 0.144332, -2.89462, -6.23202, 0.144332, -3.64462, -15.232, 0.144332, -3.64462, -5.73202, 0.144332, -2.64462, -6.23202, 0.144332, -2.89462, -15.232, 0.144332, -3.64462, -15.232, 0.144332, 4.10538, -5.73202, 0.144332, 11.8554, -5.73202, 0.144332, -2.64462, -15.232, 0.144332, 4.10538, -15.232, 0.144332, 11.8554, 13.768, 0.144332, -3.64462, 5.51798, 0.144332, -3.64462, 5.26798, 0.144332, -2.64462, 13.768, 0.144332, 4.10538, 4.01798, 0.144332, 11.8554, 13.768, 0.144332, 4.10538, 5.26798, 0.144332, -2.64462, -5.73202, 0.144332, -2.64462, -5.73202, 0.144332, 11.8554, 4.01798, 0.144332, 11.8554, 13.768, 0.144332, 11.8554, 13.768, 0.144332, 4.10538)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 3), PackedInt32Array(6, 3, 7), PackedInt32Array(8, 11, 9), PackedInt32Array(9, 11, 10), PackedInt32Array(14, 13, 12), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(18, 15, 19), PackedInt32Array(22, 21, 20), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 26), PackedInt32Array(30, 29, 27), PackedInt32Array(27, 29, 28), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(36, 35, 37), PackedInt32Array(37, 35, 39), PackedInt32Array(37, 39, 38), PackedInt32Array(42, 41, 40)]

[node name="Node3D" type="Node3D"]

[node name="CharacterBody3D" parent="." instance=ExtResource("1_4ng1g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.134794, -1.73618)

[node name="Enemy" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.837759, -8.83382)
script = ExtResource("2_7swg5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enemy"]
shape = SubResource("CapsuleShape3D_l1xrc")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Enemy"]
mesh = SubResource("CapsuleMesh_fadan")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Enemy"]
transform = Transform3D(-0.00364772, 0.999993, 0, -0.999993, -0.00364772, 0, 0, 0, 1, 0.404014, 0.298063, 0.000283241)
mesh = SubResource("CapsuleMesh_7ikgd")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="Enemy"]

[node name="PatrolTimer" type="Timer" parent="Enemy"]

[node name="Marker3D" type="Marker3D" parent="." groups=["EnemyWaypoint"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.41202, 5.83544, -5.86571)

[node name="Enimigo" type="CharacterBody3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.67639, 0.443475, -8.83261)
script = ExtResource("3_bj72c")
target = NodePath("../CharacterBody3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enimigo"]
shape = SubResource("BoxShape3D_tch8i")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Enimigo"]
mesh = SubResource("BoxMesh_xfw5y")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="Enimigo"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_vttbh")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.732018, -0.798683, -0.644622)
use_collision = true
size = Vector3(23.6748, 1.11397, 22.8369)

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.44041, 1.32039, -3.84088)
use_collision = true
size = Vector3(10.4221, 0.834251, 0.980095)
